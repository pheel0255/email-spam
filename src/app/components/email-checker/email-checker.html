<div class="container mt-5">
  <div class="text-center mb-4">
    <h2 class="fw-bold text-primary">ğŸ“§ Email Spam Checker</h2>
    <p class="text-muted">Paste an email below to see if itâ€™s spam or not.</p>
  </div>

  <div class="mb-3">
  <textarea [(ngModel)]="emailText" 
            class="form-control shadow-sm" 
            rows="4" 
            maxlength="500"
            placeholder="âœï¸ Enter email subject (not body)..."></textarea>
  <small class="text-muted">
    {{ emailText.length }}/200 characters
  </small>
</div>

<div class="alert alert-warning mt-2" *ngIf="emailText.length > 220">
  âŒ Subject too long. Please keep it under 200 characters.
</div>


  <div class="d-flex justify-content-center gap-2">
   <button (click)="checkSpam()" 
        class="btn btn-primary px-4 d-flex align-items-center justify-content-center gap-2" 
        [disabled]="loading">

  <span *ngIf="!loading">Check Spam</span>
  
  <ng-container *ngIf="loading">
    <span>Checking</span>
    <div class="spinner-border spinner-border-sm text-light" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </ng-container>
</button>

    <button (click)="refresh()" 
            class="btn btn-outline-secondary px-4">
      ğŸ”„ Refresh
    </button>
  </div>

  <div class="mt-4" *ngIf="result">
    <div *ngIf="result.label" 
         [class]="result.label === 'spam' ? 'alert alert-danger' : 'alert alert-success'">
      <strong>Result:</strong> {{ result.label | uppercase }}
    </div>
  </div>
</div>
